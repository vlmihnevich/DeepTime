*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0a0e17; color: #e0e6ed;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  overflow: hidden; height: 100vh; width: 100vw; user-select: none;
}

#nav-bar {
  position: fixed; top: 0; left: 0; right: 0; height: 44px;
  background: rgba(10,14,23,0.95); backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(79,195,247,0.15);
  display: flex; align-items: center; padding: 0 16px; gap: 6px; z-index: 100;
}
.nav-title { font-size: 13px; font-weight: 700; color: #4fc3f7; margin-right: 10px; white-space: nowrap; letter-spacing: .5px; }
.nav-btn {
  background: rgba(79,195,247,0.06); border: 1px solid rgba(79,195,247,0.18);
  color: #90a4ae; padding: 4px 10px; border-radius: 4px; font-size: 11px;
  cursor: pointer; transition: all .15s; white-space: nowrap;
}
.nav-btn:hover { background: rgba(79,195,247,0.15); color: #e0e6ed; border-color: rgba(79,195,247,0.35); }
.nav-btn.active { background: rgba(79,195,247,0.22); color: #4fc3f7; border-color: #4fc3f7; }
.nav-btn.reset-btn { background: rgba(255,145,0,0.08); border-color: rgba(255,145,0,0.25); color: #ff9100; }
.nav-btn.reset-btn:hover { background: rgba(255,145,0,0.18); }
.nav-btn.lang-btn { background: rgba(79,195,247,0.12); border-color: rgba(79,195,247,0.3); color: #4fc3f7; font-weight: 700; letter-spacing: 1px; padding: 4px 8px; }
.nav-btn.lang-btn:hover { background: rgba(79,195,247,0.25); }
#context-indicator { margin-left: auto; font-size: 11px; color: #607080; white-space: nowrap; }
#context-indicator span { color: #4fc3f7; }

#timeline-container { position: absolute; top: 44px; left: 0; right: 0; bottom: 0; overflow: hidden; cursor: grab; }
#timeline-container:active { cursor: grabbing; }

#opening-annotation {
  position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
  background: rgba(10,14,23,0.88); border: 1px solid rgba(79,195,247,0.25);
  border-radius: 8px; padding: 12px 22px; font-size: 13px; color: #78909c;
  text-align: center; max-width: 600px; z-index: 50; opacity: 1;
  transition: opacity .5s; pointer-events: none;
}
#opening-annotation strong { color: #4fc3f7; }
#opening-annotation.hidden { opacity: 0; }

#tooltip {
  position: fixed; pointer-events: none; background: rgba(15,22,36,0.96);
  border: 1px solid rgba(79,195,247,0.35); border-radius: 6px; padding: 10px 14px;
  font-size: 12px; line-height: 1.5; color: #e0e6ed; max-width: 360px;
  z-index: 200; opacity: 0; transition: opacity .1s; box-shadow: 0 6px 24px rgba(0,0,0,0.6);
}
#tooltip.visible { opacity: 1; }
.tt-title { font-weight: 600; color: #4fc3f7; margin-bottom: 3px; font-size: 13px; }
.tt-date { color: #78909c; font-size: 11px; }
.tt-desc { margin-top: 4px; color: #b0bec5; font-size: 11px; }

#info-panel {
  position: fixed; bottom: 0; left: 0; right: 0;
  background: rgba(12,17,28,0.97); backdrop-filter: blur(12px);
  border-top: 2px solid rgba(79,195,247,0.25); padding: 18px 28px 22px;
  z-index: 150; transform: translateY(100%);
  transition: transform .3s cubic-bezier(.4,0,.2,1); max-height: 38vh; overflow-y: auto;
}
#info-panel.open { transform: translateY(0); }
.panel-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 8px; }
.panel-title { font-size: 18px; font-weight: 700; color: #e0e6ed; }
.panel-close { background: none; border: 1px solid rgba(255,255,255,0.12); color: #607080; font-size: 16px; cursor: pointer; padding: 2px 8px; border-radius: 4px; line-height: 1; }
.panel-close:hover { color: #e0e6ed; border-color: rgba(255,255,255,0.3); }
.panel-dates { font-size: 14px; color: #4fc3f7; margin-bottom: 4px; }
.panel-duration { font-size: 12px; color: #607080; margin-bottom: 10px; }
.panel-desc { font-size: 13px; color: #b0bec5; line-height: 1.6; margin-bottom: 12px; }
.panel-perspective { background: rgba(79,195,247,0.06); border-left: 3px solid #4fc3f7; padding: 10px 14px; border-radius: 0 6px 6px 0; font-size: 13px; color: #78909c; margin-bottom: 12px; }
.panel-perspective strong { color: #4fc3f7; }
.panel-link { display: inline-block; color: #4fc3f7; text-decoration: none; font-size: 12px; border: 1px solid rgba(79,195,247,0.25); padding: 5px 12px; border-radius: 4px; }
.panel-link:hover { background: rgba(79,195,247,0.12); }

@keyframes pulse-ring { 0% { r: 5; opacity: .7; } 100% { r: 18; opacity: 0; } }
.you-are-here-pulse { animation: pulse-ring 2s ease-out infinite; fill: none; stroke: #4fc3f7; stroke-width: 1.5; }

.geo-bar { cursor: pointer; stroke: rgba(0,0,0,0.25); stroke-width: .5; }
.geo-bar:hover { filter: brightness(1.15); }
.geo-label { font-weight: 600; pointer-events: none; text-anchor: middle; dominant-baseline: central; }
.event-marker { cursor: pointer; }
.event-line { stroke-width: 1; opacity: .5; }
.extinction-band { pointer-events: all; cursor: pointer; }
.species-bar { cursor: pointer; rx: 3; ry: 3; }
.species-bar:hover { filter: brightness(1.3); }
.species-label { fill: #e0e6ed; pointer-events: none; font-weight: 600; }
.axis line, .axis path { stroke: #1e2a38; }
.axis text { fill: #506070; font-size: 11px; }

#keyboard-hint { position: fixed; bottom: 8px; right: 14px; font-size: 10px; color: #37474f; z-index: 50; pointer-events: none; transition: opacity .3s; }
#keyboard-hint kbd { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 3px; padding: 1px 4px; font-family: inherit; font-size: 10px; }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(79,195,247,0.15); border-radius: 3px; }
